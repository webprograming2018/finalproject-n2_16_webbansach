package org.apache.jsp.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import dao.CategoryDAO;
import model.Cart;
import dao.PublisherDAO;
import dao.AuthorDAO;
import model.Book;
import dao.BookDAO;

public final class bookdetail_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("    <head>\n");
      out.write("        <meta charset=\"UTF-8\">\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("        <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n");
      out.write("        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css\">\n");
      out.write("        <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.6.3/css/all.css\" integrity=\"sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/\"\n");
      out.write("              crossorigin=\"anonymous\">\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"../css/detailstyle.css\">\n");
      out.write("        <title>Book detail</title>\n");
      out.write("    </head>\n");
      out.write("    <body>\n");
      out.write("\n");
      out.write("        ");

            BookDAO bookDAO = new BookDAO();
            Book book = new Book();
            String bookID = "";
            if (request.getParameter("bookID") != null) {
                bookID = request.getParameter("bookID");
                book = bookDAO.getBook(Long.parseLong(bookID));
            }
            AuthorDAO authorDAO = new AuthorDAO();
            PublisherDAO publisherDAO = new PublisherDAO();
            CategoryDAO categoryDAO = new CategoryDAO();
            Cart cart = (Cart) session.getAttribute("cart");
            if (cart == null) {
                cart = new Cart();
                session.setAttribute("cart", cart);
            }
        
      out.write("\n");
      out.write("        ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "header.jsp", out, false);
      out.write("\n");
      out.write("        <div class=\"container\">\n");
      out.write("            <div class=\"row\">\n");
      out.write("                <div class=\"col-md-3\">\n");
      out.write("                    <div class=\"image\">\n");
      out.write("                        <img class=\"img-thumbnail\" src=");
      out.print("../images/hinhsach/" + book.getImage());
      out.write(" >\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"rating\"></div><br>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"col-md-6\">\n");
      out.write("                    <div class=\"book-detail\">\n");
      out.write("                        <div class=\"book-info\">\n");
      out.write("                            <h3 class=\"title-book\">\n");
      out.write("                                <span>");
      out.print(book.getName());
      out.write("</span>\n");
      out.write("                            </h3>\n");
      out.write("                            <h3 class=\"category\">\n");
      out.write("                                <span>");
      out.print(categoryDAO.getCategoryByID(book.getCategoryID()).getCategoryName());
      out.write("</span>\n");
      out.write("                            </h3>\n");
      out.write("                            <h4 class=\"author\">\n");
      out.write("                                <span>by</span>\n");
      out.write("                                <span><a href=\"\">");
      out.print(authorDAO.getAuthorByID(book.getAuthorID()).getAuthor_Name());
      out.write("</a></span>\n");
      out.write("                            </h4>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"detail\">\n");
      out.write("                            <h2 class=\"detail-title\"><strong>Chi Tiết</strong></h2>\n");
      out.write("                            <div class=\"synopsis-description\" translate=\"no\">\n");
      out.write("                                <p><strong>Featuring an exclusive excerpt from Kate Quinn's next incredible historical\n");
      out.write("                                        novel, THE HUNTRESS</strong></p>\n");
      out.write("                                <p><strong>In an enthralling new historical novel from national bestselling author Kate\n");
      out.write("                                        Quinn, two women—a female spy recruited to the real-life Alice Network in France\n");
      out.write("                                        during World War I and an unconventional American socialite searching for her\n");
      out.write("                                        cousin in 1947—are brought together in a mesmerizing story of courage and\n");
      out.write("                                        redemption.</strong></p>\n");
      out.write("                                <p><em>1947.</em> In the chaotic aftermath of World War II, American college girl Charlie\n");
      out.write("                                    St. Clair is pregnant, unmarried, and on the verge of being thrown out of her very\n");
      out.write("                                    proper family. She's also nursing a desperate hope that her beloved cousin Rose, who\n");
      out.write("                                    disappeared in Nazi-occupied France during the war, might still be alive. So when\n");
      out.write("                                    Charlie's parents banish her to Europe to have her \"little problem\" taken care of,\n");
      out.write("                                    Charlie breaks free and heads to London, determined to find out what happened to the\n");
      out.write("                                    cousin she loves like a sister.</p>\n");
      out.write("                                <p><strong>“Both funny and heartbreaking, this epic journey of two courageous women is an\n");
      out.write("                                        unforgettable tale of little-known wartime glory and sacrifice. Quinn knocks it out\n");
      out.write("                                        of the park with this spectacular book!”—Stephanie Dray, New York Times bestselling\n");
      out.write("                                        author of <em>America's First Daughter</em></strong></p>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"more-info\">\n");
      out.write("                            <div id=\"sp_optly_aboutThisBookWidget\">\n");
      out.write("                                <h5>About this book</h5>\n");
      out.write("                                <div class=\"row\">\n");
      out.write("                                    <div class=\"col-md-4\">\n");
      out.write("                                        <div class=\"row\">\n");
      out.write("                                            <div class=\"col-md-6 stat-icon text-center\">\n");
      out.write("                                                <i class=\"far fa-file-alt\"></i>\n");
      out.write("                                            </div>\n");
      out.write("                                            <div class=\"col-md-6 stat-desc\">\n");
      out.write("                                                <strong>575</strong>\n");
      out.write("                                                <span>Pages</span>\n");
      out.write("                                            </div>\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"col-md-4\">\n");
      out.write("                                        <div class=\"row\">\n");
      out.write("                                            <div class=\"col-md-6 stat-icon text-center\">\n");
      out.write("                                                <i class=\"far fa-clock\"></i>\n");
      out.write("                                            </div>\n");
      out.write("                                            <div class=\"col-md-6 stat-desc\">\n");
      out.write("                                                <strong>12 - 13</strong>\n");
      out.write("                                                <span>Hours to read</span>\n");
      out.write("                                            </div>\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                    <div class=\"col-md-4\">\n");
      out.write("                                        <div class=\"row\">\n");
      out.write("                                            <div class=\"col-md-6 stat-icon text-center\">\n");
      out.write("                                                <i class=\"fas fa-book-open\"></i>\n");
      out.write("                                            </div>\n");
      out.write("                                            <div class=\"col-md-6 stat-desc\">\n");
      out.write("                                                <strong>157k</strong>\n");
      out.write("                                                <span>Total words</span>\n");
      out.write("                                            </div>\n");
      out.write("                                        </div>\n");
      out.write("                                    </div>\n");
      out.write("                                </div>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"col-md-3 pricing-details\">\n");
      out.write("                    <div class=\"box\">\n");
      out.write("                        <h2 class=\"pricing-title\">Mua sách này</h2>\n");
      out.write("                        <div class=\"row pricing-figures\">\n");
      out.write("                            <div class=\"col-md-6 original-price\">Giá gốc</div>\n");
      out.write("                            <div class=\"col-md-6 price-wrapper\" translate=\"no\">\n");
      out.write("                                <span class=\"price\">");
      out.print((int)book.getPrice()/1000+5+"."+"000" );
      out.write("</span>\n");
      out.write("                                <span class=\"currency\">VNĐ</span>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                            <div class=\"col-md-6 active-price\">Giá khuyến mại</div>\n");
      out.write("                            <div class=\"col-md-6 price-wrapper\" translate=\"no\">\n");
      out.write("                                <span class=\"price\">");
      out.print((int)book.getPrice()/1000+"."+"000" );
      out.write("</span>\n");
      out.write("                                <span class=\"currency\">VNĐ</span>\n");
      out.write("                            </div>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"buypad-banner text-center\">\n");
      out.write("                            <div class=\"offer\">\n");
      out.write("                                Get\n");
      out.write("                                <span class=\"item-offer\">$5 off</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div> (Save on your first purchase worth $5.01 or more)</div>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"action row\">\n");
      out.write("                            <button type=\"button\" class=\"col-md-12 btn btn-danger btn-lg btn-block purchase-action add-to-cart\">\n");
      out.write("                                <span class=\"text\">Thêm vào giỏ hàng</span>\n");
      out.write("                            </button>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("\n");
      out.write("        <div class=\"container\">\n");
      out.write("\n");
      out.write("            <div id=\"demo\" class=\"carousel slide\" data-ride=\"carousel\">\n");
      out.write("\n");
      out.write("                <!-- Indicators -->\n");
      out.write("                <ul class=\"carousel-indicators mb-0 pb-0\">\n");
      out.write("                    <li data-target=\"#demo\" data-slide-to=\"0\" class=\"active\"></li>\n");
      out.write("                    <li data-target=\"#demo\" data-slide-to=\"1\"></li>\n");
      out.write("                    <li data-target=\"#demo\" data-slide-to=\"2\"></li>\n");
      out.write("                </ul>\n");
      out.write("\n");
      out.write("                <!-- The slideshow -->\n");
      out.write("                <div class=\"carousel-inner no-padding my-5\">\n");
      out.write("                    <div class=\"carousel-item active\">\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300?text=1\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!</p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top rounded-bottom\" src=\"http://via.placeholder.com/300x300?text=2\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!</p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top rounded-bottom\" src=\"http://via.placeholder.com/300x300?text=3\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>\n");
      out.write("                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!\n");
      out.write("                            </p>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"carousel-item\">\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!</p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>\n");
      out.write("                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!\n");
      out.write("                            </p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!</p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                    <div class=\"carousel-item\">\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!</p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!</p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"col-xs-4 col-sm-4 col-md-4\">\n");
      out.write("                            <a href=\"#\" onclick=abc(this) class=\"slider_info\">\n");
      out.write("                                <img class=\"img-fluid card-img-top\" src=\"http://via.placeholder.com/300x300\">\n");
      out.write("                                <div class=\"card-img-overlay t_img\">\n");
      out.write("                                    <span class=\"float-left text-uppercase\">article</span>\n");
      out.write("                                    <span class=\"float-right text-uppercase\">2345 views</span>\n");
      out.write("                                </div>\n");
      out.write("                            </a>\n");
      out.write("                            <p>\n");
      out.write("                                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi nesciunt quam obcaecati\n");
      out.write("                                maiores atque labore fugiat tenetur tempore veritatis temporibus!\n");
      out.write("                            </p>\n");
      out.write("\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <!-- Left and right controls -->\n");
      out.write("                <a class=\"carousel-control-prev\" href=\"#demo\" data-slide=\"prev\">\n");
      out.write("                    <span class=\"carousel-control-prev-icon sp\"></span>\n");
      out.write("                </a>\n");
      out.write("                <a class=\"carousel-control-next\" href=\"#demo\" data-slide=\"next\">\n");
      out.write("                    <span class=\"carousel-control-next-icon sp\"></span>\n");
      out.write("                </a>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js\"></script>\n");
      out.write("        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js\"></script>\n");
      out.write("        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js\"></script>\n");
      out.write("        ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "footer.jsp", out, false);
      out.write("\n");
      out.write("    </body>\n");
      out.write("    <!-- Scripts -->\n");
      out.write("    <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"></script>\n");
      out.write("    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js\"></script>\n");
      out.write("    <script src=\"../js/ratingbook.js\"></script>\n");
      out.write("    <script>\n");
      out.write("                                $(function () {\n");
      out.write("                                    'use strict';\n");
      out.write("                                    var id = $('#bookid').text();\n");
      out.write("                                    //alert(id.text());\n");
      out.write("                                    // Starz\n");
      out.write("                                    var state = $.cookie('starz' + id);\n");
      out.write("                                    $('.rating').starz(10, state).bind('rated', function (event, data) {\n");
      out.write("                                        $('.rating-result').text(data.rating);\n");
      out.write("                                        $.cookie('starz' + id, data.rating, {expires: 1});\n");
      out.write("                                    });\n");
      out.write("                                });\n");
      out.write("    </script>\n");
      out.write("\n");
      out.write("</html>\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
